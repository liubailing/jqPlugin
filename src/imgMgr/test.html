<html>

<head>
    <title>图片管理插件 | JQ插件</title>


    <link rel="stylesheet" href="../base/css/vendor.min.css" />
    <script type="text/javascript" src="../base/js/vendor.min.js"></script>
    <link rel="stylesheet" href="../vendor/dropify/dist/css/dropify.min.css" />
    <script type="text/javascript" src="../vendor/dropify/dist/js/dropify.min.js"></script>


    <!-- <link rel="stylesheet" href="https://getbootstrap.com/docs/4.1/dist/css/bootstrap.min.css" />
    <script src="https://getbootstrap.com/docs/4.1/assets/js/vendor/popper.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="https://getbootstrap.com/docs/4.1/dist/js/bootstrap.min.js"></script> -->

    <link rel="stylesheet" href="main.min.css" />

    <!-- 页面布局样式,与插件无关 -->
    <link rel="stylesheet" href="https://getbootstrap.com/docs/4.1/assets/css/docs.min.css" />


    <style>
    </style>
</head>

<body>

    <div class="container-fluid" style="width:80%">

        <div class="row flex-xl-nowrap">
            <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
                <h1 class="bd-title" id="content">Jquery ImgMgr</h1>

                <h3 id="additive">
                    <div>初始化</div>
                </h3>

                <div class="bd-example-border-utils">
                    <div class="bd-example">
                        <a data-act="init" class="btn btnTest">初始化</a>
                    </div>
                    <div class="bd-clipboard">
                        <button class="btn-clipboard" title="" data-original-title="Copy to clipboard">Copy</button>
                    </div>
                    <figure class="highlight">
                        <pre><code class="language-html" data-lang="html">
                                $("#btnTest").jqImgMgr({
                                    tabs:data.resTabs.data,
                                    data:data.resImgs.data,
                                    callback:{             
                                        onDelete: function (d) {
                                        },
                                        onTab: function (d) {
                                        },
                                        onPager: function (d) {
                                        },
                                        onCheck: function (d) {
                                        }
                                    }
                                });
                            </code>
                         </pre>
                    </figure>

                </div>



                <div class="bd-example-border-utils bd-example-border-utils-0">
                    <div class="bd-example">
                        <a data-act="tab" class="btn btnTest">设置分组</a>
                        <small>分组数据格式 参照 data.js</small>
                    </div>
                    <div class="bd-clipboard">
                        <button class="btn-clipboard" title="" data-original-title="Copy to clipboard">Copy</button>
                    </div>
                    <figure class="highlight">
                        <pre><code class="language-html" data-lang="html">
                            $("#btnTest").jqImgMgr("setTab", data.resTabs.data);</code></pre>
                    </figure>

                </div>


                <div class="bd-example-border-utils bd-example-border-utils-0">
                    <div class="bd-example">
                        <a data-act="img" class="btn btnTest"> 设置图片及其分页</a>
                        <small>图片数据格式 参照 data.js</small>
                    </div>
                    <div class="bd-clipboard">
                        <button class="btn-clipboard" title="" data-original-title="Copy to clipboard">Copy</button>
                    </div>
                    <figure class="highlight">
                        <pre><code class="language-html" data-lang="html">
                            $("#btnTest").jqImgMgr("setNav", data.resImgs.data);</code></pre>
                    </figure>

                </div>



                <div class="bd-example-border-utils bd-example-border-utils-0">
                    <div class="bd-example">
                        <a data-act="params" class="btn btnTest"> 取得参数</a>
                        <small>图片数据格式 参照 data.js</small>
                    </div>
                    <div class="bd-clipboard">
                        <button class="btn-clipboard" title="" data-original-title="Copy to clipboard">Copy</button>
                    </div>
                    <figure class="highlight">
                        <pre><code class="language-html" data-lang="html">
                            $("#btnTest").jqImgMgr("getParams");</code></pre>
                    </figure>

                </div>


                <div class="bd-example-border-utils bd-example-border-utils-0">
                    <div class="bd-example">
                        <a data-act="show" class="btn btnTest"> 显示</a>
                    </div>
                    <div class="bd-clipboard">
                        <button class="btn-clipboard" title="" data-original-title="Copy to clipboard">Copy</button>
                    </div>
                    <figure class="highlight">
                        <pre><code class="language-html" data-lang="html">
                            $("#btnTest").jqImgMgr("show");</code></pre>
                    </figure>

                </div>


                <div class="bd-example-border-utils bd-example-border-utils-0">
                    <div class="bd-example">
                        <a data-act="hide" class="btn btnTest"> 隐藏</a>
                    </div>
                    <div class="bd-clipboard">
                        <button class="btn-clipboard" title="" data-original-title="Copy to clipboard">Copy</button>
                    </div>
                    <figure class="highlight">
                        <pre><code class="language-html" data-lang="html">
                            $("#btnTest").jqImgMgr("hide");</code></pre>
                    </figure>

                </div>

        </div>
    </div>
    <div class="btnTest" id="btnTest"></div>
</body>


<script type="text/javascript" src="main.min.js"></script>
<script type="text/javascript" src="data.min.js"></script>

<!-- 页面布局样式,与插件无关 -->
<!-- <script type="text/javascript" src="https://getbootstrap.com/docs/4.1/assets/js/docs.min.js"></script> -->

<script type="text/javascript">
    $(function () {

        var config = {
            tabs: data.resTabs.data,
            data: data.resImgs.data,
            callback:{             
                onDelete: function (d) {
                    console.log("点击删除：" + d.picid);
                    $("#btnTest").jqImgMgr("delete", d.picid);
                },
                onTab: function (d) {
                    //$("#btnTest").jqImgMgr("setTab", data.resTabs.data);
                    var d = data.resImgs.data;
                    d.pageindex = 1;
                    $("#btnTest").jqImgMgr("setImg", d);
                    console.log("点击分组");
                },
                onPager: function (d) {
                    var imgs =data.resImgs.data;
                    imgs.pageindex = d.pageindex;
                    $("#btnTest").jqImgMgr("setImg", imgs);
                    console.log("点击分页");
                },
                onCheck: function (d) {
                    $("#btnTest").jqImgMgr("hide");
                    console.log("选择图片");
                }
            }
        }

        $("#btnTest").jqImgMgr(config);
        
        $(".btnTest").click(function (e) {
            var obj = $(e.target);
            var d = obj.data();
            switch (d.act) {
                case "init":
                    $("#btnTest").jqImgMgr(config);
                    // $("#btnTest").jqImgMgr("setImg", imgs);
                    // $("#btnTest").jqImgMgr("show");
                    break;
                case "tab":
                    $("#btnTest").jqImgMgr("setTab", data.resTabs.data);
                    break;
                case "img":
                    $("#btnTest").jqImgMgr("setImg", data.resImgs.data);
                    break;
                case "params":
                    var ppp = $(".btnTest").jqImgMgr("getParams");
                    console.log(ppp);
                    break;
                case "show":
                    $("#btnTest").jqImgMgr("show");
                    break;
                case "hide":
                    $("#btnTest").jqImgMgr("hide");
                    break;
                default:
                    break;
            }
        })


        //$("#btnTest").jqImgMgr("show");
    })
</script>



</html>